# アニメーションGIF作成アプリケーション - セットアップと使用方法

開発したアプリケーションは、前回作成した「動画フレーム抽出ツール」で作成した画像などを使用して、アニメーションGIFを作成することができます。環境構築から実行までの手順を説明します。

## 1. 環境構築

### 必要なライブラリ

以下のライブラリが必要です：

bash

```bash
pip install pillow
```

- **pillow**: 画像処理とGIF作成用

tkinterはPythonの標準ライブラリなので、追加インストールは不要です。

## 2. プログラム構成

プログラムは単一のPythonファイルで、以下の2つの主要クラスで構成されています：

1. **AnimatedGifCreator**: GIF作成のコアロジックを担当
    - 画像の読み込み
    - 時系列順のソート
    - フレームレート設定
    - GIFアニメーションの生成と保存
2. **AnimatedGifCreatorApp**: Tkinter UIを実装
    - ファイル選択インターフェース
    - フレームレート設定
    - ループ設定
    - 出力設定
    - プレビュー表示（簡易アニメーション）
    - 進捗表示

## 3. 使用方法

1. プログラムを実行すると、以下の機能を持つGUIが表示されます：
    - **画像ファイル選択**: 複数の画像ファイルを選択（JPG/PNGなど）
    - **フレームレート設定**: 1～30FPS（フレーム/秒）の間で調整可能
    - **ループ設定**: 無限ループ(0)または指定回数(1, 2, 3, 5, 10)
    - **出力ファイル設定**: 作成するGIFファイルの保存先
2. 画像ファイルを選択すると、ファイル名から時系列順にソートされてリストに表示されます。
3. 選択後、プレビューエリアには選択した画像を使用した簡易アニメーションが表示されます。
4. フレームレートとループ設定を調整し、出力ファイルを指定した後、「GIFを作成」ボタンをクリックします。
5. 処理中は進捗バーと状況メッセージで進行状況が表示されます。
6. 処理が完了すると、結果メッセージが表示されます。

## 4. 時系列ソートについて

このアプリケーションは、前回作成した「動画フレーム抽出ツール」で生成されたファイル名の形式（`frame_000123_0-00-05.jpg`など）を想定して、時系列順にソートする機能を実装しています。

ソートの優先順位：

1. ファイル名から時間情報（0-00-05など）を抽出
2. 上記が取得できない場合、フレーム番号（000123など）を使用
3. どちらも取得できない場合、ファイルの作成日時を使用

## 5. GIF設定の詳細

1. **フレームレート**:
    - 1～30FPSの範囲で設定可能
    - 値が大きいほどアニメーションが速く再生されます
    - 一般的なアニメーションGIFは10～15FPS程度が適切です
2. **ループ設定**:
    - 0: 無限ループ（標準設定）
    - 1～10: 指定した回数だけループした後に停止

## 6. プレビュー機能

このアプリケーションには簡易的なプレビュー機能が実装されています：

- 選択した画像の最初の20フレームを使用
- 指定したフレームレートでアニメーションプレビューを表示
- プレビュー用に画像はサムネイルサイズ（320x240）に縮小
- 処理中はプレビューが一時停止します

## 7. 注意事項

- 大量の高解像度画像からGIFを作成する場合、メモリ使用量が増加する可能性があります
- フレームレートが高すぎると、一部のブラウザやアプリケーションでは意図した速度で表示されない場合があります
- GIFファイルは圧縮効率があまり高くないため、多数のフレームや高解像度の画像を使用すると、ファイルサイズが大きくなる可能性があります
- 処理中は「停止」ボタンで中断することができます

## 8. 活用例

- 動画から抽出したフレームでタイムラプス動画の作成
- 手描きのアニメーションの作成
- ウェブサイト用のバナーやアイコンのアニメーション
- プレゼンテーション用のアニメーション素材
- SNS投稿用のアニメーションGIF作成

このアプリケーションを使えば、前回作成した動画フレーム抽出ツールで生成した画像から、簡単にアニメーションGIFを作成することができます。フレームレートを調整することで、アニメーションの速度を自由に変更できます。